!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("mitt")):"function"==typeof define&&define.amd?define(["exports","vue","mitt"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["wheelHub-plus"]={},e.Vue,e.mitt2)}(this,(function(e,t,o){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=n(o),r={name:"Icon",props:{name:{type:String,require:!0}}};const a={class:"g-icon","aria-hidden":"true"};r.render=function(e,o,n,l,r,s){return t.openBlock(),t.createBlock("svg",a,[t.createVNode("use",{"xlink:href":`#icon-${n.name}`},null,8,["xlink:href"])])},r.__file="src/lib/Icon.vue";var s={name:"Switch",props:{value:[Boolean,String],disabled:{type:Boolean,default:!1}},setup:(e,t)=>({toggleSwitch:()=>{t.emit("update:value",!e.value)}})};const i=t.createVNode("span",{class:"g-switch-span"},null,-1);s.render=function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("button",{class:[{"g-switchStatus":n.value},"g-switch"],disabled:n.disabled,onClick:o[1]||(o[1]=(...e)=>l.toggleSwitch(...e))},[i],10,["disabled"])},s.__file="src/lib/Switch.vue";var c={name:"Input",components:{Icon:r},props:{value:{type:[String,Number]},type:{type:String,default:"text",validator:e=>["text","password","textarea"].indexOf(e)>=0},placeholder:{type:String,default:"请输入内容"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:String}},setup:(e,t)=>({updateValue:()=>{t.emit("update:value",e.value)}})};const d=t.withScopeId("data-v-799e87d2");t.pushScopeId("data-v-799e87d2");const u={class:"errorMessage"};t.popScopeId();const p=d((function(e,o,n,l,r,a){const s=t.resolveComponent("Icon");return t.openBlock(),t.createBlock("div",{class:["g-wrapper",{error:n.error}]},[t.withDirectives(t.createVNode("input",{type:n.type,placeholder:n.placeholder,readonly:n.readonly,disabled:n.disabled,"onUpdate:modelValue":o[1]||(o[1]=e=>n.value=e),onInput:o[2]||(o[2]=(...e)=>l.updateValue(...e))},null,40,["type","placeholder","readonly","disabled"]),[[t.vModelDynamic,n.value]]),n.error?(t.openBlock(),t.createBlock(t.Fragment,{key:0},[t.createVNode(s,{name:"error",class:"icon-error"}),t.createVNode("span",u,t.toDisplayString(n.error),1)],64)):t.createCommentVNode("v-if",!0)],2)}));c.render=p,c.__scopeId="data-v-799e87d2",c.__file="src/lib/Input.vue";var v={name:"Popover",props:{position:{type:String,default:"top",validator:e=>["top","bottom","left","right"].indexOf(e)>=0},trigger:{type:String,default:"hover",validator:e=>["click","hover"].indexOf(e)>=0},value:[Boolean,String]},setup(e){const o=t.ref(!1),n=t.ref(null),l=t.ref(null),r=t.ref(null),a=()=>{t.nextTick((()=>{const{top:t,left:o,right:n,bottom:a,height:s}=r.value.getBoundingClientRect(),{height:i}=l.value.getBoundingClientRect();document.body.appendChild(l.value);let c={top:{top:t+window.scrollY,left:o+window.scrollX},bottom:{top:a+window.scrollY,left:o+window.scrollX},left:{top:s-i+t+window.scrollY,left:o+window.scrollX},right:{top:s-i+t+window.scrollY,left:n+window.scrollX}};l.value.style.left=c[e.position].left+"px",l.value.style.top=c[e.position].top+"px"}))};return document.addEventListener("click",(e=>{(e=>{n&&(l.value===e.target||n.value.contains(e.target))||(o.value=!1)})(e)})),{visible:o,popover:n,content:l,trigger:r,open:()=>{"hover"===e.trigger&&(o.value=!0,a())},close:()=>{"hover"===e.trigger&&(o.value=!1)},onClick:()=>{"click"===e.trigger&&(!0===o.value?o.value=!1:(o.value=!0,a()))}}}};const f=t.withScopeId("data-v-18840432");t.pushScopeId("data-v-18840432");const g={ref:"trigger",class:"g-popover-trigger"};t.popScopeId();const m=f((function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",{ref:"popover",class:"g-popover",onMouseenter:o[1]||(o[1]=(...e)=>l.open(...e)),onMouseleave:o[2]||(o[2]=(...e)=>l.close(...e)),onClick:o[3]||(o[3]=(...e)=>l.onClick(...e))},[l.visible?(t.openBlock(),t.createBlock("div",{key:0,ref:"content",class:["g-popover-content",`position-${n.position}`]},[t.renderSlot(e.$slots,"content")],2)):t.createCommentVNode("v-if",!0),t.createVNode("div",g,[t.renderSlot(e.$slots,"default")],512)],544)}));v.render=m,v.__scopeId="data-v-18840432",v.__file="src/lib/Popover.vue";var b={name:"Button",components:{Icon:r},props:{icon:{type:String,require:!0},iconPosition:{type:String,default:"left",validator:e=>["left","right"].indexOf(e)>=0},theme:{type:String,default:"button",validator:e=>["button","text","link"].indexOf(e)>=0},size:{type:String,default:"normal",validator:e=>["small","normal","big"].indexOf(e)>=0},level:{type:String,default:"normal",validator:e=>["main","primary","normal","danger"].indexOf(e)>=0},disabled:{type:[Boolean,String],default:!1},loading:{type:[Boolean,String],default:!1}},setup:e=>({classes:t.computed((()=>{const{theme:t,size:o,level:n,iconPosition:l,loading:r}=e;return{[`g-theme-${t}`]:t,[`g-size-${o}`]:o,[`g-level-${n}`]:n,[`g-position-${l}`]:l,"g-loading":r}}))})};const y={key:0,class:"g-loadingIndicator"},h={class:"g-button-content"};b.render=function(e,o,n,l,r,a){const s=t.resolveComponent("Icon");return t.openBlock(),t.createBlock("button",{class:["g-button",l.classes],disabled:n.disabled},[n.loading?(t.openBlock(),t.createBlock("span",y)):t.createCommentVNode("v-if",!0),n.icon&&!n.loading?(t.openBlock(),t.createBlock(s,{key:1,name:n.icon},null,8,["name"])):t.createCommentVNode("v-if",!0),t.createVNode("div",h,[t.renderSlot(e.$slots,"default")])],10,["disabled"])},b.__file="src/lib/Button/Button.vue";var k={name:"ButtonGroup",setup(e,t){t.slots.default().forEach((e=>{if("Button"!==e.type.name)throw new Error("ButtonGroup 子标签必须为 Button")}))}};const B={class:"g-button-group"};k.render=function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",B,[t.renderSlot(e.$slots,"default")])},k.__file="src/lib/Button/ButtonGroup.vue";var w={name:"Collapse",props:{selected:{type:Array,default:function(){return[]}},single:{type:Boolean,default:!1}},setup(e,o){o.slots.default().forEach((e=>{if("CollapseItem"!==e.type.name)throw new Error("Collapse 子标签必须为 CollapseItem")}));const n=l.default();t.provide("EventBus",n);let r=JSON.parse(JSON.stringify(e.selected));t.onMounted((()=>{n.emit("update:selected",r)})),n.on("update:addSelected",(t=>{e.single?r=[t]:r.push(t),n.emit("update:selected",r),o.emit("update:selected",r)})),n.on("update:removeSelected",(e=>{let t=e.indexOf(r);r.splice(t,1),n.emit("update:selected",r),o.emit("update:selected",r)}))}};const C=t.withScopeId("data-v-71460b88");t.pushScopeId("data-v-71460b88");const S={class:"g-collapse"};t.popScopeId();const _=C((function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",S,[t.renderSlot(e.$slots,"default")])}));w.render=_,w.__scopeId="data-v-71460b88",w.__file="src/lib/Collapse/Collapse.vue";var I={name:"CollapseItem",components:{Icon:r},props:{title:{type:String,require:!0}},setup(e){const o=t.ref(!1),n=t.inject("EventBus");n.on("update:selected",(t=>{o.value=t.indexOf(e.title)>=0}));return{showed:o,toggle:()=>{!0===o.value?n.emit("update:removeSelected",e.title):n.emit("update:addSelected",e.title)}}}};const N=t.withScopeId("data-v-206ab422");t.pushScopeId("data-v-206ab422");const V={class:"g-collapse-item"};t.popScopeId();const x=N((function(e,o,n,l,r,a){const s=t.resolveComponent("Icon");return t.openBlock(),t.createBlock("div",V,[t.createVNode("div",{class:"g-title","title-name":n.title,onClick:o[1]||(o[1]=(...e)=>l.toggle(...e))},[t.createTextVNode(t.toDisplayString(n.title)+" ",1),t.createVNode(s,{name:"right",class:{"rotate-icon":l.showed}},null,8,["class"])],8,["title-name"]),l.showed?(t.openBlock(),t.createBlock("div",{key:0,class:"g-panel","panel-name":n.title},[t.renderSlot(e.$slots,"default")],8,["panel-name"])):t.createCommentVNode("v-if",!0)])}));I.render=x,I.__scopeId="data-v-206ab422",I.__file="src/lib/Collapse/CollapseItem.vue";var $={name:"Dialog",components:{Button:b},props:{visible:{type:Boolean,default:!1},onClickOverlay:{type:[Boolean,String],default:!0},ok:{type:Function},cancel:{type:Function}},setup(e,t){const o=()=>{t.emit("update:visible",!1)};return{closeDialog:o,overlayClose:()=>{e.onClickOverlay&&o()},ok:()=>{e.ok&&!1!==e.ok()&&o()},cancel:()=>{e.cancel&&!1!==e.cancel()&&o()}}}};const P={class:"g-dialog-wrapper"},O={class:"g-dialog"},T=t.createTextVNode("yes"),E=t.createTextVNode("Cancel");$.render=function(e,o,n,l,r,a){const s=t.resolveComponent("Button");return n.visible?(t.openBlock(),t.createBlock(t.Teleport,{key:0,to:"body"},[t.createVNode("div",{class:"g-dialog-overlay",onClick:o[1]||(o[1]=(...e)=>l.overlayClose(...e))}),t.createVNode("div",P,[t.createVNode("div",O,[t.createVNode("header",null,[t.renderSlot(e.$slots,"title"),t.createVNode("span",{class:"g-dialog-close",onClick:o[2]||(o[2]=(...e)=>l.closeDialog(...e))})]),t.createVNode("main",null,[t.renderSlot(e.$slots,"content")]),t.createVNode("footer",null,[t.createVNode(s,{level:"main",onClick:l.ok},{default:t.withCtx((()=>[T])),_:1},8,["onClick"]),t.createVNode(s,{onClick:l.cancel},{default:t.withCtx((()=>[E])),_:1},8,["onClick"])])])])])):t.createCommentVNode("v-if",!0)},$.__file="src/lib/Dialog/Dialog.vue";var j={name:"Row",props:{gutter:{type:[String,Number,Object]},justify:{type:String,validator:function(e){return["left","right","center"].indexOf(e)>=0}}},setup(e,o){o.slots.default().forEach((e=>{if("Col"!==e.type.name)throw new Error("Grid 中所有列 Col 必须放在 Row 内。")}));const n=l.default();t.provide("EventBus",n);const r=e=>{if(!e)return[];if("string"==typeof e||"number"==typeof e)return`gutter-${e}`;let t=[];return e.iPhone&&t.push(`gutter-iPhone-${e.iPhone}`),e.iPad&&t.push(`gutter-iPad-${e.iPad}`),e.narrowPc&&t.push(`gutter-narrow-pc-${e.narrowPc}`),e.pc&&t.push(`gutter-pc-${e.pc}`),e.widePc&&t.push(`gutter-wide-pc-${e.widePc}`),e.biggestWidePc&&t.push(`gutter-biggest-wide-pc-${e.biggestWidePc}`),t},a=t.computed((()=>{return[(t=e.justify,void 0===t?[]:["justify-"+e.justify]),r(e.gutter)];var t}));return t.onMounted((()=>{n.emit("gutter",r(e.gutter))})),{rowClass:a}}};j.render=function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",{class:["g-row",l.rowClass]},[t.renderSlot(e.$slots,"default")],2)},j.__file="src/lib/Grid/Row.vue";let D=e=>{let t=Object.keys(e),o=!0;return t.forEach((e=>{["span","offset"].includes(e)||(o=!1)})),o};var R={name:"Col",props:{span:{type:[String,Number]},offset:{type:[String,Number]},iPad:{type:Object,validator:D},narrowPc:{type:Object,validator:D},pc:{type:Object,validator:D},widePc:{type:Object,validator:D},biggestWidePc:{type:Object,validator:D}},setup(e){let o=t.ref("");t.inject("EventBus").on("gutter",(e=>{o.value=e}));const n=(e,t="")=>{if(!e)return[];let o=[];return e.span&&o.push(`col-${t}${e.span}`),e.offset&&o.push(`offset-${t}${e.offset}`),o};let{span:l,offset:r,iPad:a,narrowPc:s,pc:i,widePc:c,biggestWidePc:d}=e;return{colClass:t.computed((()=>[...n({span:l,offset:r}),...n(a,"iPad-"),...n(s,"narrow-pc-"),...n(i,"pc-"),...n(c,"wide-pc-"),...n(d,"biggest-wide-pc-")])),gutter:o}}};R.render=function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",{class:["g-col",[l.colClass,l.gutter]]},[t.renderSlot(e.$slots,"default")],2)},R.__file="src/lib/Grid/Col.vue";var L={name:"Layout",setup(e,o){const n=o.slots.default(),l=t.ref(!1);return n.forEach((e=>{"Sider"==e.type.name&&(l.value=!0)})),{hasSider:l}}};L.render=function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",{class:["g-layout",{hasSider:l.hasSider}]},[t.renderSlot(e.$slots,"default")],2)},L.__file="src/lib/Layout/Layout.vue";var M={name:"Header"};const F={class:"g-header"};M.render=function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",F,[t.renderSlot(e.$slots,"default")])},M.__file="src/lib/Layout/Header.vue";var G={name:"Sider"};const q={class:"g-sider"};G.render=function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",q,[t.renderSlot(e.$slots,"default")])},G.__file="src/lib/Layout/Sider.vue";var A={name:"Content"};const H={class:"g-content"};A.render=function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",H,[t.renderSlot(e.$slots,"default")])},A.__file="src/lib/Layout/Content.vue";var W={name:"Footer"};const X={class:"g-footer"};W.render=function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",X,[t.renderSlot(e.$slots,"default")])},W.__file="src/lib/Layout/Footer.vue";var Y={name:"Tabs",props:{selected:{type:String},tabPosition:{type:String,default:"top",validator:e=>["top","left"].indexOf(e)>=0}},setup(e,o){const n=o.slots.default();n.forEach((e=>{if("TabsItem"!==e.type.name)throw new Error("Tabs 子标签必须为 TabsItem")}));const l=t.computed((()=>n.find((t=>t.props.title===e.selected)))),r=t.ref(null),a=t.ref(null),s=t.ref(null);return t.onMounted((()=>{t.watchEffect((()=>{if("top"===e.tabPosition){const{width:e}=r.value.getBoundingClientRect(),{left:t}=r.value.getBoundingClientRect(),{left:o}=a.value.getBoundingClientRect(),n=t-o;s.value.style.width=e+"px",s.value.style.left=n+"px"}if("left"===e.tabPosition){const{height:e,width:t}=r.value.getBoundingClientRect(),{top:o}=r.value.getBoundingClientRect(),{top:n}=a.value.getBoundingClientRect(),l=o-n;s.value.style.height=e+"px",s.value.style.left=t-2+"px",s.value.style.top=l+"px"}}),{flush:"post"})})),{defaults:n,switchItem:e=>{""!==e.props.disabled&&o.emit("update:selected",e.props.title)},tabsContent:l,selectItem:r,container:a,indicator:s}}};const z={class:"g-tabs-nav-indicator",ref:"indicator"};Y.render=function(e,o,n,l,r,a){return t.openBlock(),t.createBlock("div",{class:["g-tabs",{[`g-tabs-${n.tabPosition}`]:n.tabPosition}]},[t.createVNode("div",{class:["g-tabs-nav",{[`g-tabs-nav-${n.tabPosition}`]:n.tabPosition}],ref:"container"},[(t.openBlock(!0),t.createBlock(t.Fragment,null,t.renderList(l.defaults,((e,o)=>(t.openBlock(),t.createBlock("div",{key:o,ref:t=>{e.props.title===n.selected&&(l.selectItem=t)},class:[[e.props.title===n.selected?"selected":""]+[""===e.props.disabled?"disabled":""],"g-tabs-nav-item"],onClick:t=>l.switchItem(e)},t.toDisplayString(e.props.title),11,["onClick"])))),128)),t.createVNode("div",z,null,512)],2),t.createVNode("div",{class:["g-tabs-content",{[`g-tabs-content-${n.tabPosition}`]:n.tabPosition}]},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(l.tabsContent),{key:l.tabsContent}))],2)],2)},Y.__file="src/lib/Tab/Tabs.vue";var U={name:"TabsItem",inheritAttrs:!1,disabled:{type:Boolean,default:!1}};U.render=function(e,o,n,l,r,a){return t.renderSlot(e.$slots,"default")},U.__file="src/lib/Tab/TabsItem.vue";var J={name:"Toast",components:{Icon:r},props:{visible:{type:Boolean,default:!1},type:{type:String,default:"normal",validator:e=>["normal","success","warning","error"].indexOf(e)>=0},autoClose:{type:[Boolean,Number],default:3,validator:function(e){return!1===e||"number"==typeof e}},showClose:{type:Boolean,default:!1}},setup(e,o){const n=t.computed((()=>"normal"===e.type?void 0:{[`g-toast-${e.type}`]:e.type})),l=()=>{o.emit("update:visible",!1)};return t.onMounted((()=>{e.autoClose&&setTimeout((()=>{l()}),1e3*e.autoClose)})),{toastClass:n,clickToastButton:l}}};const K=t.withScopeId("data-v-18b1c3a8");t.pushScopeId("data-v-18b1c3a8");const Q={class:"wrapper"},Z={class:"text"},ee={class:"text-wrapper"};t.popScopeId();const te=K((function(e,o,n,l,r,a){const s=t.resolveComponent("Icon");return n.visible?(t.openBlock(),t.createBlock(t.Teleport,{key:0,to:"body"},[t.createVNode("div",Q,[t.createVNode("div",{class:["g-toast",l.toastClass]},[t.createVNode("div",Z,[t.createVNode(s,{name:n.type},null,8,["name"]),t.createVNode("div",ee,[t.renderSlot(e.$slots,"message")])]),n.showClose?(t.openBlock(),t.createBlock("span",{key:0,class:"g-toast-close",onClick:o[1]||(o[1]=(...e)=>l.clickToastButton(...e))})):t.createCommentVNode("v-if",!0)],2)])])):t.createCommentVNode("v-if",!0)}));J.render=te,J.__scopeId="data-v-18b1c3a8",J.__file="src/lib/Toast/Toast.vue";e.Button=b,e.ButtonGroup=k,e.Col=R,e.Collapse=w,e.CollapseItem=I,e.Content=A,e.Dialog=$,e.Footer=W,e.Header=M,e.Icon=r,e.Input=c,e.Layout=L,e.Popover=v,e.Row=j,e.Sider=G,e.Switch=s,e.Tabs=Y,e.TabsItem=U,e.openDialog=e=>{const{title:o,content:n,ok:l,cancel:r}=e,a=document.createElement("div");document.body.append(a);const s=t.createApp({render:()=>t.h($,{visible:!0,"onUpdate:visible":e=>{!1===e&&(s.unmount(a),a.remove())},ok:l,cancel:r},{title:()=>o,content:()=>n})});s.mount(a)},e.toastPlugin=e=>{const{message:o,type:n,autoClose:l,showClose:r}=e,a=document.createElement("div");document.body.append(a);const s=t.createApp({render:()=>t.h(J,{visible:!0,"onUpdate:visible":e=>{!1===e&&(s.unmount(a),a.remove())},type:n,autoClose:l,showClose:r},(e=>{if("<"===e.substr(0,1)){const o=e.substr(1).indexOf(">"),n=e.substr(1).substring(0,o),l=e.indexOf(">")+1,r=e.substr(1).indexOf("<")+1,a=e.substring(l,r);return{message:()=>t.h(n,a)}}return{message:()=>e}})(o))});s.mount(a)},Object.defineProperty(e,"__esModule",{value:!0})}));
